
#############################################
# audioinjector_custom_defconfig from here on
#
BR2_TARGET_GENERIC_HOSTNAME="audioinjector"
BR2_TARGET_GENERIC_ISSUE="Welcome to Audio Injector OS"

# where to store downloads
BR2_DL_DIR="$(BASE_DIR)/../../buildroot.dl"

# board setup
BR2_aarch64=y
BR2_cortex_a35=y

# Filesystem
BR2_TARGET_ROOTFS_EXT2=y
BR2_TARGET_ROOTFS_EXT2_4=y
BR2_TARGET_ROOTFS_EXT2_SIZE="250M"
BR2_PACKAGE_HOST_DOSFSTOOLS=y
BR2_PACKAGE_HOST_GENIMAGE=y
BR2_PACKAGE_HOST_MTOOLS=y
BR2_PACKAGE_HOST_UBOOT_TOOLS=y
#BR2_ROOTFS_POST_IMAGE_SCRIPT="support/scripts/genimage.sh"
#BR2_ROOTFS_POST_SCRIPT_ARGS="-c $(BR2_EXTERNAL)/board/RockPiS/genimage.cfg"
BR2_ROOTFS_POST_IMAGE_SCRIPT="$(BR2_EXTERNAL)/board/RockPiS/post-build.sh"
BR2_ROOTFS_POST_SCRIPT_ARGS="RK3308"

# gcc
#BR2_GCC_VERSION_8_X=y
#BR2_GCC_VERSION="8.4.0"

# ATF
BR2_TARGET_ARM_TRUSTED_FIRMWARE=y
BR2_TARGET_ARM_TRUSTED_FIRMWARE_LATEST_VERSION=y
BR2_TARGET_ARM_TRUSTED_FIRMWARE_VERSION="v2.2"
BR2_TARGET_ARM_TRUSTED_FIRMWARE_PLATFORM="rk3399"
BR2_TARGET_ARM_TRUSTED_FIRMWARE_BL31=n
BR2_TARGET_ARM_TRUSTED_FIRMWARE_BL31_UBOOT=n
BR2_TARGET_ARM_TRUSTED_FIRMWARE_BL32_DEFAULT=y
BR2_TARGET_ARM_TRUSTED_FIRMWARE_IMAGES="bl31/*.elf"
BR2_TARGET_ARM_TRUSTED_FIRMWARE_NEEDS_ARM32_TOOLCHAIN=y

# u-boot
BR2_TARGET_UBOOT=y
BR2_TARGET_UBOOT_BUILD_SYSTEM_KCONFIG=y
BR2_TARGET_UBOOT_LATEST_VERSION=y
BR2_TARGET_UBOOT_VERSION="2020.10"
BR2_TARGET_UBOOT_USE_DEFCONFIG=y
BR2_TARGET_UBOOT_BOARD_DEFCONFIG="roc-cc-rk3308"
BR2_TARGET_UBOOT_NEEDS_DTC=y
BR2_TARGET_UBOOT_FORMAT_BIN=n
BR2_TARGET_UBOOT_FORMAT_IMG=y
BR2_PACKAGE_HOST_DTC=y
BR2_TARGET_UBOOT_SPL=y
#BR2_TARGET_UBOOT_NEEDS_PYTHON3=y
BR2_TARGET_UBOOT_CONFIG_FRAGMENT_FILES="$(BR2_EXTERNAL)/board/RockPiS/uboot.fragment"

#BR2_TARGET_UBOOT=y
#BR2_TARGET_UBOOT_BUILD_SYSTEM_KCONFIG=y
#BR2_TARGET_UBOOT_CUSTOM_GIT=y
#BR2_TARGET_UBOOT_CUSTOM_REPO_URL="https://github.com/radxa/u-boot.git"
#BR2_TARGET_UBOOT_CUSTOM_REPO_VERSION="233a23e3ed0b3e5250253ee455c3c5df2080f99c"
## stable-4.4-rockpis 233a23e3ed0b3e5250253ee455c3c5df2080f99c
#BR2_TARGET_UBOOT_BOARD_DEFCONFIG="rock-pi-s-rk3308"
#BR2_TARGET_UBOOT_NEEDS_DTC=y
#BR2_TARGET_UBOOT_NEEDS_PYTHON3=y
#BR2_TARGET_UBOOT_NEEDS_ATF_BL31=y
#BR2_TARGET_UBOOT_NEEDS_ATF_BL31_ELF=y
#BR2_TARGET_UBOOT_FORMAT_CUSTOM=n
##BR2_TARGET_UBOOT_FORMAT_CUSTOM_NAME="u-boot.itb"
#BR2_TARGET_UBOOT_SPL=y
#BR2_TARGET_UBOOT_SPL_NAME="idbloader.img"

# linux
BR2_LINUX_KERNEL=y
BR2_LINUX_KERNEL_LATEST_VERSION=y
BR2_LINUX_KERNEL_VERSION="5.10"
BR2_LINUX_KERNEL_PATCH=""
#BR2_LINUX_KERNEL_USE_DEFCONFIG=y
#BR2_LINUX_KERNEL_DEFCONFIG=""
BR2_LINUX_KERNEL_CONFIG_FRAGMENT_FILES=""
BR2_LINUX_KERNEL_CUSTOM_LOGO_PATH=""
BR2_LINUX_KERNEL_IMAGE=y
BR2_LINUX_KERNEL_GZIP=y
BR2_LINUX_KERNEL_USE_CUSTOM_CONFIG=y
BR2_LINUX_KERNEL_CUSTOM_CONFIG_FILE="$(BR2_EXTERNAL)/board/RockPiS/rk3308_linux_defconfig"
BR2_LINUX_KERNEL_DTS_SUPPORT=y
#BR2_LINUX_KERNEL_DTB_IS_SELF_BUILT=y
BR2_LINUX_KERNEL_INTREE_DTS_NAME="rockchip/rk3308-roc-cc"

##BR2_KERNEL_HEADERS_4_4=y
##BR2_DEFAULT_KERNEL_HEADERS="4.4"
#BR2_KERNEL_HEADERS_AS_KERNEL=y
#BR2_PACKAGE_HOST_LINUX_HEADERS_CUSTOM_4_4=y

#BR2_LINUX_KERNEL=y
#BR2_LINUX_KERNEL_CUSTOM_GIT=y
#BR2_LINUX_KERNEL_CUSTOM_REPO_URL="git@github.com:radxa/kernel.git"
##BR2_LINUX_KERNEL_CUSTOM_REPO_VERSION="stable-4.4-rockpis"
##BR2_LINUX_KERNEL_CUSTOM_REPO_VERSION="cef30e88a9f56ca4fc5959a3ff442ce9b68f7501"
#BR2_LINUX_KERNEL_CUSTOM_REPO_VERSION="6b7accbc999b6caa8ef603b9d904c99694d0bf41"

#BR2_LINUX_KERNEL_VERSION="4.4"
#BR2_LINUX_KERNEL_USE_DEFCONFIG=y
#BR2_LINUX_KERNEL_DEFCONFIG="rk3308_linux"
#BR2_LINUX_KERNEL_IMAGE=y
#BR2_LINUX_KERNEL_GZIP=y

##BR2_LINUX_KERNEL_CONFIG_FRAGMENT_FILES="$(BR2_EXTERNAL)/package/audioinjector-alsa/audioinjector-allwinner/kernel.fragment"
##BR2_LINUX_KERNEL_CUSTOM_DTS_PATH="$(BR2_EXTERNAL)/package/audioinjector-alsa/audioinjector-allwinner/sun8i-h3-bananapi-m2-plus.dts"

# RK repos
BR2_PACKAGE_RKBIN=y
BR2_PACKAGE_RKTOOLS=y
BR2_PACKAGE_RKDEVICE=y

#BR2_TOOLCHAIN_BUILDROOT_WCHAR=y

BR2_GLOBAL_PATCH_DIR="$(BR2_EXTERNAL)/patches"

# package options
#BR2_PACKAGE_FFTW_USE_NEON=y
#BR2_PACKAGE_EIGEN_UNSUPPORTED_MODULES=y

BR2_PACKAGE_BUSYBOX_CONFIG_FRAGMENT_FILES="$(BR2_EXTERNAL)/configs/busybox.fragment"

# setup options
BR2_ROOTFS_OVERLAY="$(BR2_EXTERNAL)/overlays"
#BR2_ROOTFS_USERS_TABLES="$(BR2_EXTERNAL)/users.txt"

# audio drivers
#BR2_PACKAGE_AUDIOINJECTOR_ALSA=y

#BR2_TOOLCHAIN_BUILDROOT_WCHAR=y

BR2_GLOBAL_PATCH_DIR="$(BR2_EXTERNAL)/patches"

# buildroot packages

BR2_PACKAGE_BUSYBOX_CONFIG_FRAGMENT_FILES="$(BR2_EXTERNAL)/configs/busybox.fragment"

# setup options
BR2_ROOTFS_OVERLAY="$(BR2_EXTERNAL)/overlays"
#BR2_ROOTFS_USERS_TABLES="$(BR2_EXTERNAL)/users.txt"

# linux and device tree setup
#BR2_ROOTFS_DEVICE_CREATION_DYNAMIC_MDEV=y

#BR2_LINUX_KERNEL_DTS_SUPPORT=y
#BR2_LINUX_KERNEL_USE_CUSTOM_DTS=y
#BR2_LINUX_KERNEL_CUSTOM_DTS_PATH="$(BR2_EXTERNAL)/package/audioinjector-alsa/audioinjector-allwinner/sun8i-h3-bananapi-m2-plus.dts"
#BR2_LINUX_KERNEL_CONFIG_FRAGMENT_FILES="$(BR2_EXTERNAL)/package/audioinjector-alsa/audioinjector-allwinner/kernel.fragment"

# Firmware
#BR2_TARGET_ARM_TRUSTED_FIRMWARE=y
#BR2_TARGET_ARM_TRUSTED_FIRMWARE_CUSTOM_GIT=y
#BR2_TARGET_ARM_TRUSTED_FIRMWARE_CUSTOM_REPO_URL="https://github.com/apritzel/arm-trusted-firmware.git"
#BR2_TARGET_ARM_TRUSTED_FIRMWARE_PLATFORM="sun50iw1p1"
#BR2_TARGET_ARM_TRUSTED_FIRMWARE_CUSTOM_REPO_VERSION="aa75c8da415158a94b82a430b2b40000778e851f"
#BR2_TARGET_ARM_TRUSTED_FIRMWARE_BL31=y

# wifi firmware
#BR2_PACKAGE_ARMBIAN_FIRMWARE=y
#BR2_PACKAGE_ARMBIAN_FIRMWARE_AP6212=y

# networking packages

# wireless firmware
#BR2_PACKAGE_LINUX_FIRMWARE=y
#BR2_PACKAGE_LINUX_FIRMWARE_BRCM_BCM43XXX=y

# wireless tools
#BR2_PACKAGE_IW=y
#BR2_PACKAGE_WIRELESS_TOOLS=y
#BR2_PACKAGE_WIRELESS_TOOLS_LIB=y
#BR2_PACKAGE_WPA_SUPPLICANT=y
#BR2_PACKAGE_WPA_SUPPLICANT_NL80211=y
#BR2_PACKAGE_WPA_SUPPLICANT_CLI=y

#BR2_PACKAGE_OPENSSH=y
#BR2_PACKAGE_OPENSSH_SERVER=y
#BR2_PACKAGE_OPENSSH_CLIENT=y
#BR2_SYSTEM_DHCP="eth0"

#BR2_PACKAGE_NTP=y
#BR2_PACKAGE_NTP_NTPDATE=y

#BR2_PACKAGE_AVAHI=y
#BR2_PACKAGE_AVAHI_DAEMON=y

# audio stuff
#BR2_PACKAGE_ALSA_LIB=y
#BR2_PACKAGE_LIBSAMPLERATE=y
#BR2_PACKAGE_ALSA_UTILS=y
#BR2_PACKAGE_ALSA_UTILS_AMIXER=y
#BR2_PACKAGE_ALSA_UTILS_APLAY=y
#BR2_PACKAGE_ALSA_UTILS_ALSAMIXER=y
